# Product Management API - Spring Boot CRUD

Application REST pour la gestion de produits avec tous les verbes HTTP et respect des principes SOLID.

##Technologies

- **Java 17**
- **Spring Boot 3.2.0**
- **Spring Data JPA**
- **H2 Database** (base de donnÃ©es en mÃ©moire)
- **Lombok**
- **Bean Validation**
- **Maven**

##Principes SOLID AppliquÃ©s

### **S - Single Responsibility Principle**
- Chaque classe a une seule responsabilitÃ©
- `ProductController` : gestion des requÃªtes HTTP
- `ProductService` : logique mÃ©tier
- `ProductRepository` : accÃ¨s aux donnÃ©es
- `ProductMapper` : conversion DTO/Entity

### **O - Open/Closed Principle**
- Interface `ProductService` permet l'extension sans modification
- Utilisation d'interfaces Spring Data JPA

### **L - Liskov Substitution Principle**
- `ProductServiceImpl` implÃ©mente `ProductService` et peut Ãªtre substituÃ©e
- Utilisation de l'injection de dÃ©pendances

### **I - Interface Segregation Principle**
- Interfaces spÃ©cifiques et ciblÃ©es
- DTOs sÃ©parÃ©s pour crÃ©ation (`ProductCreateDTO`) et rÃ©ponse (`ProductDTO`)

### **D - Dependency Inversion Principle**
- DÃ©pendances sur les abstractions (interfaces)
- Injection via constructeur avec `@RequiredArgsConstructor`

##Architecture

```
product-management/
â”œâ”€â”€ src/main/java/com/example/productmanagement/
â”‚   â”œâ”€â”€ ProductManagementApplication.java
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ ProductController.java
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ ProductService.java (interface)
â”‚   â”‚   â””â”€â”€ impl/
â”‚   â”‚       â””â”€â”€ ProductServiceImpl.java
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ ProductRepository.java
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â””â”€â”€ Product.java
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ ProductDTO.java
â”‚   â”‚   â””â”€â”€ ProductCreateDTO.java
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â””â”€â”€ ProductMapper.java
â”‚   â””â”€â”€ exception/
â”‚       â”œâ”€â”€ ProductNotFoundException.java
â”‚       â””â”€â”€ GlobalExceptionHandler.java
â””â”€â”€ src/main/resources/
    â””â”€â”€ application.properties
```

## ðŸ”§ Installation et DÃ©marrage

### PrÃ©requis
- Java 17 ou supÃ©rieur
- Maven 3.6+

### Ã‰tapes

1. **Cloner le projet**
```bash
git clone <votre-repo>
cd product-management
```

2. **Compiler le projet**
```bash
mvn clean install
```

3. **Lancer l'application**
```bash
mvn spring-boot:run
```

L'application dÃ©marre sur **http://localhost:8080**

## ðŸ“¡ API Endpoints

### **POST** - CrÃ©er un produit
```http
POST /api/products
Content-Type: application/json

{
  "name": "Laptop Dell XPS 15",
  "description": "Ordinateur portable haute performance",
  "price": 1299.99,
  "stock": 10
}
```

**RÃ©ponse** : `201 Created`
```json
{
  "id": 1,
  "name": "Laptop Dell XPS 15",
  "description": "Ordinateur portable haute performance",
  "price": 1299.99,
  "stock": 10,
  "createdAt": "2025-12-30T10:30:00",
  "updatedAt": "2025-12-30T10:30:00"
}
```

### **GET** - RÃ©cupÃ©rer tous les produits
```http
GET /api/products
```

**RÃ©ponse** : `200 OK`
```json
[
  {
    "id": 1,
    "name": "Laptop Dell XPS 15",
    "price": 1299.99,
    "stock": 10
  }
]
```

### **GET** - Rechercher par nom
```http
GET /api/products?name=laptop
```

### **GET** - RÃ©cupÃ©rer un produit par ID
```http
GET /api/products/1
```

**RÃ©ponse** : `200 OK` ou `404 Not Found`

### **PUT** - Mise Ã  jour complÃ¨te
```http
PUT /api/products/1
Content-Type: application/json

{
  "name": "Laptop Dell XPS 15 Updated",
  "description": "Nouveau modÃ¨le 2025",
  "price": 1399.99,
  "stock": 15
}
```

**RÃ©ponse** : `200 OK`

### **PATCH** - Mise Ã  jour partielle
```http
PATCH /api/products/1
Content-Type: application/json

{
  "price": 1199.99,
  "stock": 20
}
```

**RÃ©ponse** : `200 OK`

### **DELETE** - Supprimer un produit
```http
DELETE /api/products/1
```

**RÃ©ponse** : `204 No Content`

### **HEAD** - VÃ©rifier l'existence
```http
HEAD /api/products/1
```

**RÃ©ponse** : `200 OK` si existe, `404 Not Found` sinon

### **OPTIONS** - MÃ©thodes supportÃ©es
```http
OPTIONS /api/products
```

**RÃ©ponse** : `200 OK` avec header `Allow: GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS`

## ðŸ§ª Tester l'API

### Avec cURL

**CrÃ©er un produit**
```bash
curl -X POST http://localhost:8080/api/products \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Smartphone Galaxy S24",
    "description": "Dernier modÃ¨le Samsung",
    "price": 899.99,
    "stock": 50
  }'
```

**RÃ©cupÃ©rer tous les produits**
```bash
curl http://localhost:8080/api/products
```

**Mettre Ã  jour partiellement**
```bash
curl -X PATCH http://localhost:8080/api/products/1 \
  -H "Content-Type: application/json" \
  -d '{"price": 799.99}'
```

**Supprimer**
```bash
curl -X DELETE http://localhost:8080/api/products/1
```

### Avec Postman
Importez la collection en crÃ©ant des requÃªtes vers `http://localhost:8080/api/products`

## ðŸ—„ï¸ Base de DonnÃ©es H2

AccÃ©dez Ã  la console H2 : **http://localhost:8080/h2-console**

- **JDBC URL** : `jdbc:h2:mem:productdb`
- **Username** : `sa`
- **Password** : *(vide)*

## Validation des DonnÃ©es

Les validations suivantes sont appliquÃ©es :

- **name** : obligatoire, 2-100 caractÃ¨res
- **description** : optionnel, max 1000 caractÃ¨res
- **price** : obligatoire, doit Ãªtre > 0
- **stock** : obligatoire, doit Ãªtre â‰¥ 0

## Gestion des Erreurs

### Produit non trouvÃ©
```json
{
  "status": 404,
  "message": "Produit non trouvÃ© avec l'ID: 1",
  "timestamp": "2025-12-30T10:30:00"
}
```

### Validation Ã©chouÃ©e
```json
{
  "timestamp": "2025-12-30T10:30:00",
  "status": 400,
  "errors": {
    "name": "Le nom est obligatoire",
    "price": "Le prix doit Ãªtre supÃ©rieur Ã  0"
  }
}
```

##  Ã‰volutions Possibles

- Ajouter une authentification JWT
- ImplÃ©menter la pagination
- Ajouter des filtres avancÃ©s
- IntÃ©grer Swagger/OpenAPI
- Migrer vers PostgreSQL/MySQL
- Ajouter des tests unitaires et d'intÃ©gration
- ImplÃ©menter un cache Redis
- Ajouter des Ã©vÃ©nements avec Spring Events

## Licence

MIT License

## Auteur

Vincent NZE - Application de dÃ©monstration CRUD Spring Boot